<!DOCTYPE html>
<html>
  <head>
    <title>Sorting examples</title>
    <script type="text/javascript" src="http://movelang.org/move-0.4.4.js"></script>
    <script type="text/javascript" src="../dance.js"></script>

    <script type="text/move">

      import dance

      quicksort = ^(xs){
        if (xs.empty) return []
        lesser = xs.tail.filter ^(e){ e < xs.head }
        greater = xs.tail.filter ^(e){ e >= xs.head }
        return (quicksort lesser).add(xs.head).add(quicksort greater)
      }

      selection_sort = ^(xs){
        if (xs.empty) return []
        x = xs.minimum
        return [x].add selection_sort xs.del x
      }

      insertion_sort = ^(xs){
        if (xs.empty) return []
        return (insertion_sort xs.tail).insert xs.head
      }

      list = [9,1,4,6,1,2,8,5,-1]
      console.log "Quicksort: "       + quicksort(list)
      console.log "Selection sort: "  + selection_sort(list)
      console.log "Insertion sort: "  + insertion_sort(list)

    </script>

  </head>

  <body>
    Checkout the javascript console!
  </body>

</html>